<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ฺฏูุชูุจุฑฺฏ ุงุฑุงู</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ฺฏูุชูุจุฑฺฏ ุงุฑุงู</h1>
    <p>ฺฉุชุงุจุฎุงููโุง ุขุฒุงุฏ ุจุฑุง ุขุซุงุฑ ุงุฏุจุงุช ูุงุฑุณ</p>

    <nav>
        <a href="about.html">ุฏุฑุจุงุฑู ูุง</a>
        <a href="contribute.html">ูุดุงุฑฺฉุช</a>
        <a href="contact.html">ุชูุงุณ ุจุง ูุง</a>
    </nav>

    <p>ุจู ูพุฑูฺู ฺฏูุชูุจุฑฺฏ ุงุฑุงู ุฎูุด ุขูุฏุฏ. ุงูุฌุง ูโุชูุงูุฏ ุจู ฺฉุชุงุจโูุง ูุงุฑุณ ูุงูุฏ ุญู ูุดุฑ ุฏุณุชุฑุณ ุฑุงฺฏุงู ุฏุงุดุชู ุจุงุดุฏ.</p>

    <h2>๐ ููุฑุณุช ฺฉุชุงุจโูุง</h2>
    <label for="sortSelect">๐ฝ ูุฑุชุจโุณุงุฒ ุจุฑ ุงุณุงุณ:</label>
    <select id="sortSelect" onchange="renderBooks()">
        <option value="title">ูุงู ฺฉุชุงุจ</option>
        <option value="author">ูุงู ููุณูุฏู</option>
    </select>

    <ul id="bookList"></ul>

    <script>
        let books = [];

        fetch('data/books.json')
            .then(res => res.json())
            .then(data => {
                books = data;
                renderBooks();
            });

        function renderBooks() {
            const list = document.getElementById("bookList");
            const sortKey = document.getElementById("sortSelect").value;

            const sorted = [...books].sort((a, b) =>
                a[sortKey].localeCompare(b[sortKey], 'fa')
            );

            list.innerHTML = "";
            sorted.forEach(book => {
                const li = document.createElement("li");
                li.innerHTML = `
                    <strong>${book.title}</strong> - ${book.author}
                    <br>
                    ${book.formats.scannedpdf ? `[<a href="${book.formats.scannedpdf}">Scanned PDF</a>]` : ""}
                    ${book.formats.pdf ? `[<a href="${book.formats.pdf}">PDF</a>]` : ""}
                    ${book.formats.epub ? `[<a href="${book.formats.epub}">ePub</a>]` : ""}
                `;
                list.appendChild(li);
            });
        }
    </script>
</body>
</html>